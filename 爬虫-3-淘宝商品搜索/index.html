<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>爬虫：3.淘宝商品搜索 | 斯达的编程宝典</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="./favicon.ico">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?2675818a983a3131404cee835018f016";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script>
    <meta name="description" content="贴心的编程学习路线，全面的编程知识百科">
    <meta name="keywords" content="程序员斯达, 编程学习路线, 编程知识百科, Java, 编程导航, 前端, 开发, 编程分享, 项目, IT, 求职, 面经">
    
    <link rel="preload" href="./assets/css/0.styles.96b8cfb3.css" as="style"><link rel="preload" href="./assets/js/app.5249bd7e.js" as="script"><link rel="preload" href="./assets/js/2.c0aaeb5f.js" as="script"><link rel="preload" href="./assets/js/35.daa5630d.js" as="script"><link rel="prefetch" href="./assets/js/1.c6f1e4ad.js"><link rel="prefetch" href="./assets/js/10.ff7da4ea.js"><link rel="prefetch" href="./assets/js/11.2a86f324.js"><link rel="prefetch" href="./assets/js/12.b2a22df0.js"><link rel="prefetch" href="./assets/js/13.2fb622db.js"><link rel="prefetch" href="./assets/js/14.9de06b8b.js"><link rel="prefetch" href="./assets/js/15.fd8ff8b5.js"><link rel="prefetch" href="./assets/js/16.6a8e242d.js"><link rel="prefetch" href="./assets/js/17.5d138c5f.js"><link rel="prefetch" href="./assets/js/18.69625345.js"><link rel="prefetch" href="./assets/js/19.5f3420fe.js"><link rel="prefetch" href="./assets/js/20.4feae0ab.js"><link rel="prefetch" href="./assets/js/21.f49fcd71.js"><link rel="prefetch" href="./assets/js/22.b5a7d7d5.js"><link rel="prefetch" href="./assets/js/23.ebe0b8ee.js"><link rel="prefetch" href="./assets/js/24.be88a529.js"><link rel="prefetch" href="./assets/js/25.174226b7.js"><link rel="prefetch" href="./assets/js/26.f147598c.js"><link rel="prefetch" href="./assets/js/27.78be6249.js"><link rel="prefetch" href="./assets/js/28.21114511.js"><link rel="prefetch" href="./assets/js/29.844f1698.js"><link rel="prefetch" href="./assets/js/3.c54f0213.js"><link rel="prefetch" href="./assets/js/30.5c66521b.js"><link rel="prefetch" href="./assets/js/31.4a56eed6.js"><link rel="prefetch" href="./assets/js/32.3cf208d8.js"><link rel="prefetch" href="./assets/js/33.e99f4a5a.js"><link rel="prefetch" href="./assets/js/34.2ae9e400.js"><link rel="prefetch" href="./assets/js/36.8fa9da21.js"><link rel="prefetch" href="./assets/js/37.fdd9a70b.js"><link rel="prefetch" href="./assets/js/38.39220aed.js"><link rel="prefetch" href="./assets/js/4.a710e4e6.js"><link rel="prefetch" href="./assets/js/5.310736f9.js"><link rel="prefetch" href="./assets/js/6.a1367672.js"><link rel="prefetch" href="./assets/js/7.d4d686a3.js"><link rel="prefetch" href="./assets/js/vendors~docsearch.b873aa2e.js">
    <link rel="stylesheet" href="./assets/css/0.styles.96b8cfb3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/./" class="home-link router-link-active"><img src="./logo.png" alt="斯达的编程宝典" class="logo"> <span class="site-name can-hide">斯达的编程宝典</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/./代码实战/" class="nav-link">
  代码实战
</a></div> <a href="https://github.com/SeirinStar11/CodeWeb" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/./代码实战/" class="nav-link">
  代码实战
</a></div> <a href="https://github.com/SeirinStar11/CodeWeb" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/./%E4%BB%A3%E7%A0%81%E5%AE%9E%E6%88%98/" class="sidebar-link">免费学习路线</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>代码实战-python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>代码实战-c语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>代码实战-爬虫项目</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/./%E7%88%AC%E8%99%AB-1-%E6%90%BA%E7%A8%8Bselenium/" class="sidebar-link">爬虫：1.携程selenium</a></li><li><a href="/./%E7%88%AC%E8%99%AB-2-bilibili%E5%BC%B9%E5%B9%95%E8%AF%84%E8%AE%BA/" class="sidebar-link">爬虫：2.bilibili弹幕评论</a></li><li><a href="/./%E7%88%AC%E8%99%AB-3-%E6%B7%98%E5%AE%9D%E5%95%86%E5%93%81%E6%90%9C%E7%B4%A2/" aria-current="page" class="active sidebar-link">爬虫：3.淘宝商品搜索</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/./%E7%88%AC%E8%99%AB-4-%E6%8A%96%E9%9F%B3%E8%AF%84%E8%AE%BA/" class="sidebar-link">爬虫：4.抖音评论</a></li><li><a href="/./%E7%88%AC%E8%99%AB-5-%E5%B0%8F%E7%BA%A2%E4%B9%A6%E8%AF%84%E8%AE%BA/" class="sidebar-link">爬虫：5.小红书评论</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content"><div style="width:100%"><div class="theme-default-content custom-content content__default"><h3 id="爬虫-3-淘宝商品搜索"><a href="#爬虫-3-淘宝商品搜索" class="header-anchor">#</a> 爬虫：3.淘宝商品搜索</h3> <h3 id="一、商品搜索-js逆向"><a href="#一、商品搜索-js逆向" class="header-anchor">#</a> 一、商品搜索——js逆向</h3> <p><strong>1.python代码部分</strong></p> <blockquote><p>1.输入账号密码selenium自动登录搜索一个商品</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>chrome<span class="token punctuation">.</span>service <span class="token keyword">import</span> Service
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By
<span class="token keyword">from</span> tqdm <span class="token keyword">import</span> trange
<span class="token keyword">import</span> time

<span class="token comment"># 浏览器防检测</span>
option <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 首先实例化一个ChromeOptions</span>
option<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36'</span><span class="token punctuation">)</span>
option<span class="token punctuation">.</span>add_experimental_option<span class="token punctuation">(</span><span class="token string">'excludeSwitches'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'enable-automation'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
option<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;--disable-blink-features=AutomationControlled&quot;</span><span class="token punctuation">)</span>
option<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">r'--user-data-dir=C:\Users\shitc\AppData\Local\Temp\scoped_dir23344_334734579'</span><span class="token punctuation">)</span>

<span class="token comment"># 创建 WebDriver 对象，指明使用chrome浏览器驱动，添加放检测option</span>
wd <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>service<span class="token operator">=</span>Service<span class="token punctuation">(</span><span class="token string">r'D:/Python/Driver/chromedriver.exe'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>options<span class="token operator">=</span>option<span class="token punctuation">)</span>
<span class="token comment"># wd = webdriver.Edge(service=Service(r'D:/Python/Driver/msedgedriver.exe'))</span>

wd<span class="token punctuation">.</span>implicitly_wait<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
url <span class="token operator">=</span> <span class="token string">'https://login.taobao.com/member/login.jhtml?spm=a21bo.jianhua.754894437.1.5af92a896rF5TF&amp;f=top&amp;redirectURL=https%3A%2F%2Fwww.taobao.com%2F'</span>

<span class="token comment"># 调用WebDriver 对象的get方法 可以让浏览器打开指定网址</span>
wd<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">)</span>
wd<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;fm-login-id&quot;]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;账号:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
wd<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;fm-login-password&quot;]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;密码:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
wd<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;login-form&quot;]//button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
wd<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;q&quot;]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">&quot;耳机&quot;</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
wd<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;J_TSearchForm&quot;]/div[1]/button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>2.在打开的商品界面复制该商品第一个数据接口的curl(bash)解析将解析后的cookies值复制替换代码中的cookie值</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>cookies <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'_samesite_flag_'</span><span class="token punctuation">:</span> <span class="token string">'true'</span><span class="token punctuation">,</span>
    <span class="token string">'3PcFlag'</span><span class="token punctuation">:</span> <span class="token string">'1708775846277'</span><span class="token punctuation">,</span>
    <span class="token string">'cookie2'</span><span class="token punctuation">:</span> <span class="token string">'16d614b2c9255a88324e48e40f9c3330'</span><span class="token punctuation">,</span>
    <span class="token string">'t'</span><span class="token punctuation">:</span> <span class="token string">'e5e45c39c47d4c261062a5a89451ff3c'</span><span class="token punctuation">,</span>
    <span class="token string">'_tb_token_'</span><span class="token punctuation">:</span> <span class="token string">'ee36ee013f335'</span><span class="token punctuation">,</span>
    <span class="token string">'cna'</span><span class="token punctuation">:</span> <span class="token string">'psdgHhEKPlYCAX1VkSlc4W4W'</span><span class="token punctuation">,</span>
    <span class="token string">'xlly_s'</span><span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
    <span class="token string">'sgcookie'</span><span class="token punctuation">:</span> <span class="token string">'E100ht1H4qpTVIpjdjtDBPBfuo4c91pd%2BlHnM%2F8ao0fVecav9RxLhZ22OtWe3%2Bf6RcCYqJ5h5ZrEH%2B7wxWoBm1zKNFKrLtV27e8TAA2Fkcr%2FzYevxWq0aJe2mlswLJ0eIiEk'</span><span class="token punctuation">,</span>
    <span class="token string">'unb'</span><span class="token punctuation">:</span> <span class="token string">'3883629740'</span><span class="token punctuation">,</span>
    <span class="token string">'uc3'</span><span class="token punctuation">:</span> <span class="token string">'nk2=F5RARoQDqrlBmHY%3D&amp;lg2=VFC%2FuZ9ayeYq2g%3D%3D&amp;vt3=F8dD3er7mLGvkEB72ko%3D&amp;id2=UNiMiOv8TN4GbQ%3D%3D'</span><span class="token punctuation">,</span>
    <span class="token string">'csg'</span><span class="token punctuation">:</span> <span class="token string">'de0fd1df'</span><span class="token punctuation">,</span>
    <span class="token string">'lgc'</span><span class="token punctuation">:</span> <span class="token string">'tb545458527'</span><span class="token punctuation">,</span>
    <span class="token string">'cancelledSubSites'</span><span class="token punctuation">:</span> <span class="token string">'empty'</span><span class="token punctuation">,</span>
    <span class="token string">'cookie17'</span><span class="token punctuation">:</span> <span class="token string">'UNiMiOv8TN4GbQ%3D%3D'</span><span class="token punctuation">,</span>
    <span class="token string">'dnk'</span><span class="token punctuation">:</span> <span class="token string">'tb545458527'</span><span class="token punctuation">,</span>
    <span class="token string">'skt'</span><span class="token punctuation">:</span> <span class="token string">'74bd07b709fe9afd'</span><span class="token punctuation">,</span>
    <span class="token string">'existShop'</span><span class="token punctuation">:</span> <span class="token string">'MTcwODc3NTg2NA%3D%3D'</span><span class="token punctuation">,</span>
    <span class="token string">'uc4'</span><span class="token punctuation">:</span> <span class="token string">'id4=0%40Ug%2BTWIESyWq96iFtpBHwmIY7Bvd8&amp;nk4=0%40FY4L6okZDj%2FpwtjWz2JNsiNlKrMMtQ%3D%3D'</span><span class="token punctuation">,</span>
    <span class="token string">'tracknick'</span><span class="token punctuation">:</span> <span class="token string">'tb545458527'</span><span class="token punctuation">,</span>
    <span class="token string">'_cc_'</span><span class="token punctuation">:</span> <span class="token string">'W5iHLLyFfA%3D%3D'</span><span class="token punctuation">,</span>
    <span class="token string">'_l_g_'</span><span class="token punctuation">:</span> <span class="token string">'Ug%3D%3D'</span><span class="token punctuation">,</span>
    <span class="token string">'sg'</span><span class="token punctuation">:</span> <span class="token string">'70e'</span><span class="token punctuation">,</span>
    <span class="token string">'_nk_'</span><span class="token punctuation">:</span> <span class="token string">'tb545458527'</span><span class="token punctuation">,</span>
    <span class="token string">'cookie1'</span><span class="token punctuation">:</span> <span class="token string">'WvmEUHAAHsGpU%2B%2B4Z2RkgEU%2Bu2fHIXzfa2fjCJA3nVQ%3D'</span><span class="token punctuation">,</span>
    <span class="token string">'_m_h5_tk'</span><span class="token punctuation">:</span> <span class="token string">'0dbf4d8052759ff9108dc554e29ed3d3_1708783065860'</span><span class="token punctuation">,</span>
    <span class="token string">'_m_h5_tk_enc'</span><span class="token punctuation">:</span> <span class="token string">'94fe0f38684d7de36866eede75447aad'</span><span class="token punctuation">,</span>
    <span class="token string">'mt'</span><span class="token punctuation">:</span> <span class="token string">'ci=134_1'</span><span class="token punctuation">,</span>
    <span class="token string">'thw'</span><span class="token punctuation">:</span> <span class="token string">'cn'</span><span class="token punctuation">,</span>
    <span class="token string">'uc1'</span><span class="token punctuation">:</span> <span class="token string">'cookie15=V32FPkk%2Fw0dUvg%3D%3D&amp;cookie14=UoYenbpOiPQBpw%3D%3D&amp;pas=0&amp;cookie21=U%2BGCWk%2F7pun3Y5w91g%3D%3D&amp;cookie16=V32FPkk%2FxXMk5UvIbNtImtMfJQ%3D%3D&amp;existShop=true'</span><span class="token punctuation">,</span>
    <span class="token string">'tfstk'</span><span class="token punctuation">:</span> <span class="token string">'eAT2nh_BSq3qn3FB0gbN4W3S5CQA5wHIuF61sCAGGtXchCfG7LvsMtOiHd8NECKjMGMY_SLyLPajHmdg7N_idvgIRIEAWNDQl6M1VII0wbgSR2Ovi9TXEFuIM2MCki_9Tyy4vgkH9TYrvfGq0o8AUP4U9sSmgQq_SPDfMiWhqTzigU5V09AV4_yOZwjWWnygbifRa9Grax51LxXbatJaXlIlJ_WIGsZTXifRa9GyglEOqgCPdjdR.'</span><span class="token punctuation">,</span>
    <span class="token string">'isg'</span><span class="token punctuation">:</span> <span class="token string">'BI-P018kNl-2MTKjSGpXsqO-HiOZtOPWO-naXaGcL_4EcK9yqYcBJh3mcqBOCLtO'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>3.执行商品搜索</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> requests
<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>parse
<span class="token keyword">import</span> json
<span class="token keyword">import</span> time
<span class="token keyword">import</span> execjs
<span class="token keyword">import</span> re
<span class="token keyword">from</span> tqdm <span class="token keyword">import</span> trange

<span class="token comment"># 修改param['data']里面的查询参数q</span>
<span class="token keyword">def</span> <span class="token function">input_query</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 输入查询内容</span>
    query <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;输入查询的商品:&quot;</span><span class="token punctuation">)</span>
    query <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>quote<span class="token punctuation">(</span>query<span class="token punctuation">,</span> safe<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>

    <span class="token comment"># 解析外部的JSON字符串</span>
    outer_data <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>params<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment"># 解析嵌套的JSON字符串</span>
    inner_params_str <span class="token operator">=</span> outer_data<span class="token punctuation">[</span><span class="token string">'params'</span><span class="token punctuation">]</span>
    inner_params <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>inner_params_str<span class="token punctuation">)</span>
    inner_params<span class="token punctuation">[</span><span class="token string">'q'</span><span class="token punctuation">]</span> <span class="token operator">=</span> query
    <span class="token comment"># 将修改后的字典转换回JSON字符串</span>
    new_inner_params_str <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>inner_params<span class="token punctuation">)</span>
    <span class="token comment"># 将新的JSON字符串放回外部的字典中</span>
    outer_data<span class="token punctuation">[</span><span class="token string">'params'</span><span class="token punctuation">]</span> <span class="token operator">=</span> new_inner_params_str
    <span class="token comment"># 将外部的字典转换回JSON字符串并放回原始的params中</span>
    params<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span> <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>outer_data<span class="token punctuation">)</span>
    <span class="token comment"># 现在params['data']包含了更新后的sourceS值</span>
    <span class="token comment"># print(params['data'])</span>
    <span class="token keyword">return</span> params

<span class="token comment"># 加密参数破解(t-时间戳,sign:加密参数)</span>
<span class="token keyword">def</span> <span class="token function">decipher_sign</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> token<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 获取当前时间戳</span>
    t <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
    t <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">round</span><span class="token punctuation">(</span>t <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 毫秒级时间戳</span>
    <span class="token comment"># 读取js代码</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'1.淘宝商品搜索.js'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        js_code <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># data = '{&quot;appId&quot;:&quot;34385&quot;,&quot;params&quot;:&quot;{\\&quot;device\\&quot;:\\&quot;HMA-AL00\\&quot;,\\&quot;isBeta\\&quot;:\\&quot;false\\&quot;,\\&quot;grayHair\\&quot;:\\&quot;false\\&quot;,\\&quot;from\\&quot;:\\&quot;nt_history\\&quot;,\\&quot;brand\\&quot;:\\&quot;HUAWEI\\&quot;,\\&quot;info\\&quot;:\\&quot;wifi\\&quot;,\\&quot;index\\&quot;:\\&quot;4\\&quot;,\\&quot;rainbow\\&quot;:\\&quot;\\&quot;,\\&quot;schemaType\\&quot;:\\&quot;auction\\&quot;,\\&quot;elderHome\\&quot;:\\&quot;false\\&quot;,\\&quot;isEnterSrpSearch\\&quot;:\\&quot;true\\&quot;,\\&quot;newSearch\\&quot;:\\&quot;false\\&quot;,\\&quot;network\\&quot;:\\&quot;wifi\\&quot;,\\&quot;subtype\\&quot;:\\&quot;\\&quot;,\\&quot;hasPreposeFilter\\&quot;:\\&quot;false\\&quot;,\\&quot;prepositionVersion\\&quot;:\\&quot;v2\\&quot;,\\&quot;client_os\\&quot;:\\&quot;Android\\&quot;,\\&quot;gpsEnabled\\&quot;:\\&quot;false\\&quot;,\\&quot;searchDoorFrom\\&quot;:\\&quot;srp\\&quot;,\\&quot;debug_rerankNewOpenCard\\&quot;:\\&quot;false\\&quot;,\\&quot;homePageVersion\\&quot;:\\&quot;v7\\&quot;,\\&quot;searchElderHomeOpen\\&quot;:\\&quot;false\\&quot;,\\&quot;search_action\\&quot;:\\&quot;initiative\\&quot;,\\&quot;sugg\\&quot;:\\&quot;_4_1\\&quot;,\\&quot;sversion\\&quot;:\\&quot;13.6\\&quot;,\\&quot;style\\&quot;:\\&quot;list\\&quot;,\\&quot;ttid\\&quot;:\\&quot;600000@taobao_pc_10.7.0\\&quot;,\\&quot;needTabs\\&quot;:\\&quot;true\\&quot;,\\&quot;areaCode\\&quot;:\\&quot;CN\\&quot;,\\&quot;vm\\&quot;:\\&quot;nw\\&quot;,\\&quot;countryNum\\&quot;:\\&quot;156\\&quot;,\\&quot;m\\&quot;:\\&quot;pc\\&quot;,\\&quot;page\\&quot;:1,\\&quot;n\\&quot;:48,\\&quot;q\\&quot;:\\&quot;%E8%80%B3%E6%9C%BA\\&quot;,\\&quot;tab\\&quot;:\\&quot;all\\&quot;,\\&quot;pageSize\\&quot;:48,\\&quot;totalPage\\&quot;:100,\\&quot;totalResults\\&quot;:4800,\\&quot;sourceS\\&quot;:\\&quot;0\\&quot;,\\&quot;sort\\&quot;:\\&quot;_coefp\\&quot;,\\&quot;bcoffset\\&quot;:\\&quot;\\&quot;,\\&quot;ntoffset\\&quot;:\\&quot;\\&quot;,\\&quot;filterTag\\&quot;:\\&quot;\\&quot;,\\&quot;service\\&quot;:\\&quot;\\&quot;,\\&quot;prop\\&quot;:\\&quot;\\&quot;,\\&quot;loc\\&quot;:\\&quot;\\&quot;,\\&quot;start_price\\&quot;:null,\\&quot;end_price\\&quot;:null,\\&quot;startPrice\\&quot;:null,\\&quot;endPrice\\&quot;:null,\\&quot;itemIds\\&quot;:null,\\&quot;p4pIds\\&quot;:null}&quot;}'</span>
    <span class="token comment"># 调用js破解sign</span>
    sign <span class="token operator">=</span> execjs<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span>js_code<span class="token punctuation">)</span><span class="token punctuation">.</span>call<span class="token punctuation">(</span><span class="token string">'res'</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> t<span class="token punctuation">,</span> token<span class="token punctuation">)</span>
    params<span class="token punctuation">[</span><span class="token string">'sign'</span><span class="token punctuation">]</span> <span class="token operator">=</span> sign
    params<span class="token punctuation">[</span><span class="token string">'t'</span><span class="token punctuation">]</span> <span class="token operator">=</span> t
    <span class="token keyword">return</span> params

<span class="token comment"># 解析jsonp数据</span>
<span class="token keyword">def</span> <span class="token function">parse_jsonp</span><span class="token punctuation">(</span>jsonp_str<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">'^[^(]*?\((.*)\)[^)]*$'</span><span class="token punctuation">,</span> jsonp_str<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Invalid JSONP'</span><span class="token punctuation">)</span>

<span class="token comment"># 收集商品信息</span>
<span class="token keyword">def</span> <span class="token function">get_goods</span><span class="token punctuation">(</span>goods<span class="token punctuation">,</span>d<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> d <span class="token operator">==</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">:</span>
        d <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string">'nick'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">'title'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">'procity'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">'price'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">'realSales'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">'pic_path'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>goods<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 店铺</span>
        d<span class="token punctuation">[</span><span class="token string">'nick'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>goods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'nick'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># 商品标题</span>
        d<span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>goods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># 发货地</span>
        d<span class="token punctuation">[</span><span class="token string">'procity'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>goods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'procity'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># 价格</span>
        d<span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>goods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># 实付款人数</span>
        d<span class="token punctuation">[</span><span class="token string">'realSales'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>goods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'realSales'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token comment"># 商品图片地址</span>
        d<span class="token punctuation">[</span><span class="token string">'pic_path'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>goods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'pic_path'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> d


<span class="token comment"># 修改params里面油管下一页的信息</span>
<span class="token keyword">def</span> <span class="token function">change_params</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 解析外部的JSON字符串</span>
    outer_data <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>params<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment"># 解析嵌套的JSON字符串</span>
    inner_params_str <span class="token operator">=</span> outer_data<span class="token punctuation">[</span><span class="token string">'params'</span><span class="token punctuation">]</span>
    inner_params <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>inner_params_str<span class="token punctuation">)</span>
    <span class="token comment"># 修改属性值</span>
    inner_params<span class="token punctuation">[</span><span class="token string">'bcoffset'</span><span class="token punctuation">]</span> <span class="token operator">=</span> r<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'mainInfo'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'bcoffset'</span><span class="token punctuation">]</span>
    inner_params<span class="token punctuation">[</span><span class="token string">'ntoffset'</span><span class="token punctuation">]</span> <span class="token operator">=</span> r<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'mainInfo'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'ntoffset'</span><span class="token punctuation">]</span>
    inner_params<span class="token punctuation">[</span><span class="token string">'pageSize'</span><span class="token punctuation">]</span> <span class="token operator">=</span> r<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'mainInfo'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'pageSize'</span><span class="token punctuation">]</span>
    inner_params<span class="token punctuation">[</span><span class="token string">'totalPage'</span><span class="token punctuation">]</span> <span class="token operator">=</span> r<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'mainInfo'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'totalPage'</span><span class="token punctuation">]</span>
    inner_params<span class="token punctuation">[</span><span class="token string">'totalResults'</span><span class="token punctuation">]</span> <span class="token operator">=</span> r<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'mainInfo'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'totalResults'</span><span class="token punctuation">]</span>
    inner_params<span class="token punctuation">[</span><span class="token string">'page'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'mainInfo'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'page'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token comment"># 将修改后的字典转换回JSON字符串</span>
    new_inner_params_str <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>inner_params<span class="token punctuation">)</span>
    <span class="token comment"># 将新的JSON字符串放回外部的字典中</span>
    outer_data<span class="token punctuation">[</span><span class="token string">'params'</span><span class="token punctuation">]</span> <span class="token operator">=</span> new_inner_params_str
    <span class="token comment"># 将外部的字典转换回JSON字符串并放回原始的params中</span>
    params<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span> <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>outer_data<span class="token punctuation">)</span>
    <span class="token comment"># 现在params['data']包含了更新后的sourceS值</span>
    <span class="token comment"># print(params['data'])</span>
    <span class="token keyword">return</span> params




headers <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'authority'</span><span class="token punctuation">:</span> <span class="token string">'h5api.m.taobao.com'</span><span class="token punctuation">,</span>
    <span class="token string">'accept'</span><span class="token punctuation">:</span> <span class="token string">'*/*'</span><span class="token punctuation">,</span>
    <span class="token string">'accept-language'</span><span class="token punctuation">:</span> <span class="token string">'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6'</span><span class="token punctuation">,</span>
    <span class="token comment"># 'cookie': 't=7d9ca63c844eb14f0190d3d3fdf76a62; xlly_s=1; cna=I8o8HpWoJ1cCAX1VgDkAmnV8; lgc=tb545458527; tracknick=tb545458527; mtop_partitioned_detect=1; _m_h5_tk=cc22a88d52852862e176b655423dac78_1708152846164; _m_h5_tk_enc=4ce7e408a2c60f2abed5aa67b13447f0; mt=ci=-1_0; thw=cn; _tb_token_=f0504ee5635b7; _samesite_flag_=true; 3PcFlag=1708144212888; cookie2=211c3420fc557ba0f0c9ff8db574fbdc; sgcookie=E100TXps5p0rc1GgaKgED13P%2Bia2RHx1ndS0B8ljKfBIg4ARe3psg%2Fo8t8q9WmAMOaSeqX8v9VDJaRiZmhb6qM72WMPc%2BHoZuWOgkTTNP1bbC5XjCksSa7OTDCrwvXT8z1jA; unb=3883629740; uc1=cookie21=VT5L2FSpcHv%2BujM8lw%3D%3D&amp;cookie15=V32FPkk%2Fw0dUvg%3D%3D&amp;existShop=true&amp;cookie14=UoYenby%2B7JjpCw%3D%3D&amp;cookie16=UtASsssmPlP%2Ff1IHDsDaPRu%2BPw%3D%3D&amp;pas=0; uc3=nk2=F5RARoQDqrlBmHY%3D&amp;lg2=UtASsssmOIJ0bQ%3D%3D&amp;vt3=F8dD3eu2Nt5PBs8xwco%3D&amp;id2=UNiMiOv8TN4GbQ%3D%3D; csg=cf0aa3be; cancelledSubSites=empty; cookie17=UNiMiOv8TN4GbQ%3D%3D; dnk=tb545458527; skt=ef358c07972e7cd5; existShop=MTcwODE0NDIxNQ%3D%3D; uc4=id4=0%40Ug%2BTWIESyWq96iFtpBHwnr3%2BYOI4&amp;nk4=0%40FY4L6okZDj%2FpwtjWz2JNsiXhVm%2FyMQ%3D%3D; _cc_=URm48syIZQ%3D%3D; _l_g_=Ug%3D%3D; sg=70e; _nk_=tb545458527; cookie1=WvmEUHAAHsGpU%2B%2B4Z2RkgEU%2Bu2fHIXzfa2fjCJA3nVQ%3D; tfstk=ev9wns6WnAHwlZEW_6XVTWbA696OCT3SQK_fmnxcfNbG5njc3eYjXNtmWEJV-ndsXsgT0lpez-wsWfK03t6mP4MSFhFOHt05U9pPjhCgvDMIFYt9jlsiVHDSX3NnXitJYD3Yk_3k2wvUj18MI435S-2DIxBNzR_AvMJFb17ltHwcApSN_axG4ZaAx2TkHCz0g1jdYaiEYbcIQNEhjaq_MSCheM7SfGNYM1jdYaiEYSFAtwIFPcs1.; isg=BFxc5sk-Vb8E0SH46YoexTysLXoO1QD_wUSF1zZaVMbTgf4LTuUCj5V34el5CThX',</span>
    <span class="token string">'referer'</span><span class="token punctuation">:</span> <span class="token string">'https://s.taobao.com/'</span><span class="token punctuation">,</span>
    <span class="token string">'sec-ch-ua'</span><span class="token punctuation">:</span> <span class="token string">'&quot;Not A(Brand&quot;;v=&quot;99&quot;, &quot;Microsoft Edge&quot;;v=&quot;121&quot;, &quot;Chromium&quot;;v=&quot;121&quot;'</span><span class="token punctuation">,</span>
    <span class="token string">'sec-ch-ua-mobile'</span><span class="token punctuation">:</span> <span class="token string">'?0'</span><span class="token punctuation">,</span>
    <span class="token string">'sec-ch-ua-platform'</span><span class="token punctuation">:</span> <span class="token string">'&quot;Windows&quot;'</span><span class="token punctuation">,</span>
    <span class="token string">'sec-fetch-dest'</span><span class="token punctuation">:</span> <span class="token string">'script'</span><span class="token punctuation">,</span>
    <span class="token string">'sec-fetch-mode'</span><span class="token punctuation">:</span> <span class="token string">'no-cors'</span><span class="token punctuation">,</span>
    <span class="token string">'sec-fetch-site'</span><span class="token punctuation">:</span> <span class="token string">'same-site'</span><span class="token punctuation">,</span>
    <span class="token string">'user-agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36 Edg/121.0.0.0'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

params <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'jsv'</span><span class="token punctuation">:</span> <span class="token string">'2.6.2'</span><span class="token punctuation">,</span>
    <span class="token string">'appKey'</span><span class="token punctuation">:</span> <span class="token string">'12574478'</span><span class="token punctuation">,</span>
    <span class="token string">'t'</span><span class="token punctuation">:</span> <span class="token string">'1708144261134'</span><span class="token punctuation">,</span>
    <span class="token string">'sign'</span><span class="token punctuation">:</span> <span class="token string">'a25a3d1c7203f62c5fcd87c98f3dfd2b'</span><span class="token punctuation">,</span>
    <span class="token string">'api'</span><span class="token punctuation">:</span> <span class="token string">'mtop.relationrecommend.WirelessRecommend.recommend'</span><span class="token punctuation">,</span>
    <span class="token string">'v'</span><span class="token punctuation">:</span> <span class="token string">'2.0'</span><span class="token punctuation">,</span>
    <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'jsonp'</span><span class="token punctuation">,</span>
    <span class="token string">'dataType'</span><span class="token punctuation">:</span> <span class="token string">'jsonp'</span><span class="token punctuation">,</span>
    <span class="token string">'callback'</span><span class="token punctuation">:</span> <span class="token string">'mtopjsonp2'</span><span class="token punctuation">,</span>
    <span class="token string">'data'</span><span class="token punctuation">:</span> <span class="token string">'{&quot;appId&quot;:&quot;34385&quot;,&quot;params&quot;:&quot;{\\&quot;device\\&quot;:\\&quot;HMA-AL00\\&quot;,\\&quot;isBeta\\&quot;:\\&quot;false\\&quot;,\\&quot;grayHair\\&quot;:\\&quot;false\\&quot;,\\&quot;from\\&quot;:\\&quot;nt_history\\&quot;,\\&quot;brand\\&quot;:\\&quot;HUAWEI\\&quot;,\\&quot;info\\&quot;:\\&quot;wifi\\&quot;,\\&quot;index\\&quot;:\\&quot;4\\&quot;,\\&quot;rainbow\\&quot;:\\&quot;\\&quot;,\\&quot;schemaType\\&quot;:\\&quot;auction\\&quot;,\\&quot;elderHome\\&quot;:\\&quot;false\\&quot;,\\&quot;isEnterSrpSearch\\&quot;:\\&quot;true\\&quot;,\\&quot;newSearch\\&quot;:\\&quot;false\\&quot;,\\&quot;network\\&quot;:\\&quot;wifi\\&quot;,\\&quot;subtype\\&quot;:\\&quot;\\&quot;,\\&quot;hasPreposeFilter\\&quot;:\\&quot;false\\&quot;,\\&quot;prepositionVersion\\&quot;:\\&quot;v2\\&quot;,\\&quot;client_os\\&quot;:\\&quot;Android\\&quot;,\\&quot;gpsEnabled\\&quot;:\\&quot;false\\&quot;,\\&quot;searchDoorFrom\\&quot;:\\&quot;srp\\&quot;,\\&quot;debug_rerankNewOpenCard\\&quot;:\\&quot;false\\&quot;,\\&quot;homePageVersion\\&quot;:\\&quot;v7\\&quot;,\\&quot;searchElderHomeOpen\\&quot;:\\&quot;false\\&quot;,\\&quot;search_action\\&quot;:\\&quot;initiative\\&quot;,\\&quot;sugg\\&quot;:\\&quot;_4_1\\&quot;,\\&quot;sversion\\&quot;:\\&quot;13.6\\&quot;,\\&quot;style\\&quot;:\\&quot;list\\&quot;,\\&quot;ttid\\&quot;:\\&quot;600000@taobao_pc_10.7.0\\&quot;,\\&quot;needTabs\\&quot;:\\&quot;true\\&quot;,\\&quot;areaCode\\&quot;:\\&quot;CN\\&quot;,\\&quot;vm\\&quot;:\\&quot;nw\\&quot;,\\&quot;countryNum\\&quot;:\\&quot;156\\&quot;,\\&quot;m\\&quot;:\\&quot;pc\\&quot;,\\&quot;page\\&quot;:1,\\&quot;n\\&quot;:48,\\&quot;q\\&quot;:\\&quot;%E8%A1%8C%E6%9D%8E%E7%AE%B1\\&quot;,\\&quot;tab\\&quot;:\\&quot;all\\&quot;,\\&quot;pageSize\\&quot;:48,\\&quot;totalPage\\&quot;:100,\\&quot;totalResults\\&quot;:4800,\\&quot;sourceS\\&quot;:\\&quot;0\\&quot;,\\&quot;sort\\&quot;:\\&quot;_coefp\\&quot;,\\&quot;bcoffset\\&quot;:\\&quot;\\&quot;,\\&quot;ntoffset\\&quot;:\\&quot;\\&quot;,\\&quot;filterTag\\&quot;:\\&quot;\\&quot;,\\&quot;service\\&quot;:\\&quot;\\&quot;,\\&quot;prop\\&quot;:\\&quot;\\&quot;,\\&quot;loc\\&quot;:\\&quot;\\&quot;,\\&quot;start_price\\&quot;:null,\\&quot;end_price\\&quot;:null,\\&quot;startPrice\\&quot;:null,\\&quot;endPrice\\&quot;:null,\\&quot;itemIds\\&quot;:null,\\&quot;p4pIds\\&quot;:null}&quot;}'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

token <span class="token operator">=</span> cookies<span class="token punctuation">[</span><span class="token string">'_m_h5_tk'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
params <span class="token operator">=</span> input_query<span class="token punctuation">(</span>params<span class="token punctuation">)</span>

d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
i <span class="token operator">=</span> <span class="token number">0</span>
pages <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;输入需要获取的商品页数:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">for</span> i <span class="token keyword">in</span> trange<span class="token punctuation">(</span>pages<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># print(&quot;=========第{}页===========&quot;.format(i+1))</span>

    <span class="token comment"># 1.破解params中的sign、t</span>
    params <span class="token operator">=</span> decipher_sign<span class="token punctuation">(</span>params<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>token<span class="token punctuation">)</span>
    <span class="token comment"># 2.发请求</span>
    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>
        <span class="token string">'https://h5api.m.taobao.com/h5/mtop.relationrecommend.wirelessrecommend.recommend/2.0/'</span><span class="token punctuation">,</span>
        params<span class="token operator">=</span>params<span class="token punctuation">,</span>
        cookies<span class="token operator">=</span>cookies<span class="token punctuation">,</span>
        headers<span class="token operator">=</span>headers<span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token comment"># 3.解析响应内容</span>
    r <span class="token operator">=</span> parse_jsonp<span class="token punctuation">(</span>response<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
    r <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>r<span class="token punctuation">)</span>
    <span class="token comment"># 4.获取商品信息</span>
    d <span class="token operator">=</span> get_goods<span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'itemsArray'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span>
    <span class="token comment"># 3.获取下一页的请求头参数</span>
    params <span class="token operator">=</span> change_params<span class="token punctuation">(</span>params<span class="token punctuation">,</span>r<span class="token punctuation">)</span>

<span class="token comment"># 保存数据</span>
<span class="token keyword">import</span> pandas
df <span class="token operator">=</span> pandas<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>d<span class="token punctuation">)</span>
<span class="token comment"># print(df)</span>
<span class="token comment"># df.to_excel('耳机.xlsx',index=False)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br></div></div></blockquote> <p><strong>2.js代码部分</strong></p> <blockquote><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">u</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e <span class="token operator">&lt;&lt;</span> t <span class="token operator">|</span> e <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">32</span> <span class="token operator">-</span> t
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> n<span class="token punctuation">,</span> r<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">;</span>
        <span class="token keyword">return</span> o <span class="token operator">=</span> <span class="token number">2147483648</span> <span class="token operator">&amp;</span> e<span class="token punctuation">,</span>
        i <span class="token operator">=</span> <span class="token number">2147483648</span> <span class="token operator">&amp;</span> t<span class="token punctuation">,</span>
        a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1073741823</span> <span class="token operator">&amp;</span> e<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1073741823</span> <span class="token operator">&amp;</span> t<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>n <span class="token operator">=</span> <span class="token number">1073741824</span> <span class="token operator">&amp;</span> e<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>r <span class="token operator">=</span> <span class="token number">1073741824</span> <span class="token operator">&amp;</span> t<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">2147483648</span> <span class="token operator">^</span> a <span class="token operator">^</span> o <span class="token operator">^</span> i <span class="token operator">:</span> n <span class="token operator">|</span> r <span class="token operator">?</span> <span class="token number">1073741824</span> <span class="token operator">&amp;</span> a <span class="token operator">?</span> <span class="token number">3221225472</span> <span class="token operator">^</span> a <span class="token operator">^</span> o <span class="token operator">^</span> i <span class="token operator">:</span> <span class="token number">1073741824</span> <span class="token operator">^</span> a <span class="token operator">^</span> o <span class="token operator">^</span> i <span class="token operator">:</span> a <span class="token operator">^</span> o <span class="token operator">^</span> i
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> t<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e <span class="token operator">&amp;</span> t <span class="token operator">|</span> <span class="token operator">~</span>e <span class="token operator">&amp;</span> n
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> t<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e <span class="token operator">&amp;</span> n <span class="token operator">|</span> t <span class="token operator">&amp;</span> <span class="token operator">~</span>n
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">i</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> t<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e <span class="token operator">^</span> t <span class="token operator">^</span> n
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> t<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> t <span class="token operator">^</span> <span class="token punctuation">(</span>e <span class="token operator">|</span> <span class="token operator">~</span>n<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s<span class="token punctuation">,</span> u<span class="token punctuation">,</span> l</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token function">r</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">n</span><span class="token punctuation">(</span><span class="token function">t</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">,</span> o<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">u</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> r<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s<span class="token punctuation">,</span> u<span class="token punctuation">,</span> l</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token function">o</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">n</span><span class="token punctuation">(</span><span class="token function">t</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">l</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> r<span class="token punctuation">,</span> o<span class="token punctuation">,</span> a<span class="token punctuation">,</span> s<span class="token punctuation">,</span> u<span class="token punctuation">,</span> l</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token function">i</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> o<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">n</span><span class="token punctuation">(</span><span class="token function">t</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> r<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">,</span> s<span class="token punctuation">,</span> u<span class="token punctuation">,</span> l</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> e <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token function">n</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> o<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">n</span><span class="token punctuation">(</span><span class="token function">t</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> t<span class="token punctuation">,</span> n <span class="token operator">=</span> e<span class="token punctuation">.</span>length<span class="token punctuation">,</span> r <span class="token operator">=</span> n <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">,</span> o<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">16</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>r <span class="token operator">-</span> r <span class="token operator">%</span> <span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">64</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> u <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&gt;</span> u<span class="token punctuation">;</span> <span class="token punctuation">)</span>
            s <span class="token operator">=</span> u <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">,</span>
            a<span class="token punctuation">[</span>t <span class="token operator">=</span> <span class="token punctuation">(</span>u <span class="token operator">-</span> u <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">|</span> e<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">,</span>
            u<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> s <span class="token operator">=</span> u <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">,</span>
        a<span class="token punctuation">[</span>t <span class="token operator">=</span> <span class="token punctuation">(</span>u <span class="token operator">-</span> u <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token number">128</span> <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">,</span>
        a<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> n <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">,</span>
        a<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> n <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">29</span><span class="token punctuation">,</span>
        a
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> t<span class="token punctuation">,</span> n<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> o <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">3</span> <span class="token operator">&gt;=</span> n<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span>
            r <span class="token operator">+=</span> <span class="token punctuation">(</span>o <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>t <span class="token operator">=</span> e <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">8</span> <span class="token operator">*</span> n <span class="token operator">&amp;</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> r
    <span class="token punctuation">}</span>
    <span class="token keyword">function</span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\r\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> e<span class="token punctuation">.</span>length<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> r <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token number">128</span> <span class="token operator">&gt;</span> r <span class="token operator">?</span> t <span class="token operator">+=</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token operator">:</span> r <span class="token operator">&gt;</span> <span class="token number">127</span> <span class="token operator">&amp;&amp;</span> <span class="token number">2048</span> <span class="token operator">&gt;</span> r <span class="token operator">?</span> <span class="token punctuation">(</span>t <span class="token operator">+=</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span>r <span class="token operator">&gt;&gt;</span> <span class="token number">6</span> <span class="token operator">|</span> <span class="token number">192</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            t <span class="token operator">+=</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span><span class="token number">63</span> <span class="token operator">&amp;</span> r <span class="token operator">|</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>t <span class="token operator">+=</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span>r <span class="token operator">&gt;&gt;</span> <span class="token number">12</span> <span class="token operator">|</span> <span class="token number">224</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            t <span class="token operator">+=</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span>r <span class="token operator">&gt;&gt;</span> <span class="token number">6</span> <span class="token operator">&amp;</span> <span class="token number">63</span> <span class="token operator">|</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            t <span class="token operator">+=</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span><span class="token number">63</span> <span class="token operator">&amp;</span> r <span class="token operator">|</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> t
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> h<span class="token punctuation">,</span> m<span class="token punctuation">,</span> y<span class="token punctuation">,</span> v<span class="token punctuation">,</span> g<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">M</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token constant">L</span> <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token constant">E</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token constant">T</span> <span class="token operator">=</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token constant">Y</span> <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token constant">D</span> <span class="token operator">=</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token constant">P</span> <span class="token operator">=</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token constant">I</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token constant">N</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token constant">R</span> <span class="token operator">=</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token constant">F</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token constant">S</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>e <span class="token operator">=</span> <span class="token function">p</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token constant">A</span> <span class="token operator">=</span> <span class="token number">1732584193</span><span class="token punctuation">,</span>
    b <span class="token operator">=</span> <span class="token number">4023233417</span><span class="token punctuation">,</span>
    _ <span class="token operator">=</span> <span class="token number">2562383102</span><span class="token punctuation">,</span>
    w <span class="token operator">=</span> <span class="token number">271733878</span><span class="token punctuation">,</span>
    h <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> h <span class="token operator">&lt;</span> <span class="token constant">S</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> h <span class="token operator">+=</span> <span class="token number">16</span><span class="token punctuation">)</span>
        m <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">,</span>
        y <span class="token operator">=</span> b<span class="token punctuation">,</span>
        v <span class="token operator">=</span> _<span class="token punctuation">,</span>
        g <span class="token operator">=</span> w<span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3614090360</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">3905402710</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> <span class="token number">606105819</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token number">3250441966</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">4118548399</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">1200080426</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> <span class="token number">2821735955</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token number">4249261313</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1770035416</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">2336552879</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> <span class="token number">4294925233</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token number">2304563134</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1804603682</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">4254626195</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> <span class="token number">2792965006</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">s</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token number">1236535329</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4129170786</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">3225465664</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token number">643717713</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">,</span> <span class="token number">3921069994</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3593408605</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">38016083</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token number">3634488961</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">,</span> <span class="token number">3889429448</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">568446438</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">3275163606</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token number">4107603335</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">,</span> <span class="token number">1163531501</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2850285829</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">4243563512</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token number">1735328473</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">O</span><span class="token punctuation">,</span> <span class="token number">2368359562</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4294588738</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">Y</span><span class="token punctuation">,</span> <span class="token number">2272392833</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">D</span><span class="token punctuation">,</span> <span class="token number">1839030562</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">P</span><span class="token punctuation">,</span> <span class="token number">4259657740</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2763975236</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">Y</span><span class="token punctuation">,</span> <span class="token number">1272893353</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">D</span><span class="token punctuation">,</span> <span class="token number">4139469664</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">P</span><span class="token punctuation">,</span> <span class="token number">3200236656</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">681279174</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">Y</span><span class="token punctuation">,</span> <span class="token number">3936430074</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">D</span><span class="token punctuation">,</span> <span class="token number">3572445317</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">P</span><span class="token punctuation">,</span> <span class="token number">76029189</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3654602809</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">Y</span><span class="token punctuation">,</span> <span class="token number">3873151461</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">D</span><span class="token punctuation">,</span> <span class="token number">530742520</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">l</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">P</span><span class="token punctuation">,</span> <span class="token number">3299628645</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4096336452</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">N</span><span class="token punctuation">,</span> <span class="token number">1126891415</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">,</span> <span class="token number">2878612391</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">,</span> <span class="token number">4237533241</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1700485571</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">N</span><span class="token punctuation">,</span> <span class="token number">2399980690</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">,</span> <span class="token number">4293915773</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">,</span> <span class="token number">2240044497</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1873313359</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">N</span><span class="token punctuation">,</span> <span class="token number">4264355552</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">,</span> <span class="token number">2734768916</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">,</span> <span class="token number">1309151649</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4149444226</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">N</span><span class="token punctuation">,</span> <span class="token number">3174756917</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">,</span> <span class="token number">718787259</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">c</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> _<span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">S</span><span class="token punctuation">[</span>h <span class="token operator">+</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">R</span><span class="token punctuation">,</span> <span class="token number">3951481745</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">,</span>
        b <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">,</span>
        w <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> g<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">d</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">d</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">d</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


a <span class="token operator">=</span> <span class="token string">'12574478'</span>
<span class="token comment">// token = 'cc22a88d52852862e176b655423dac78'</span>

<span class="token keyword">function</span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span>s<span class="token punctuation">,</span>token</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// s:毫秒时间戳</span>
    <span class="token comment">// data:请求参数</span>
    l <span class="token operator">=</span> <span class="token function">u</span><span class="token punctuation">(</span>token <span class="token operator">+</span> <span class="token string">&quot;&amp;&quot;</span> <span class="token operator">+</span> s <span class="token operator">+</span> <span class="token string">&quot;&amp;&quot;</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">&quot;&amp;&quot;</span> <span class="token operator">+</span> data<span class="token punctuation">)</span>
    sign <span class="token operator">=</span> l
    <span class="token keyword">return</span> sign
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br></div></div></blockquote> <h3 id="二、淘宝商品搜索selenium"><a href="#二、淘宝商品搜索selenium" class="header-anchor">#</a> 二、淘宝商品搜索selenium</h3> <blockquote><p>1.selenium输入账号密码自动登录</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>chrome<span class="token punctuation">.</span>service <span class="token keyword">import</span> Service
<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By
<span class="token keyword">from</span> tqdm <span class="token keyword">import</span> trange
<span class="token keyword">import</span> time

<span class="token comment"># 浏览器防检测</span>
option <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 首先实例化一个ChromeOptions</span>
option<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36'</span><span class="token punctuation">)</span>
option<span class="token punctuation">.</span>add_experimental_option<span class="token punctuation">(</span><span class="token string">'excludeSwitches'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'enable-automation'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
option<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">&quot;--disable-blink-features=AutomationControlled&quot;</span><span class="token punctuation">)</span>
option<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">r'--user-data-dir=C:\Users\shitc\AppData\Local\Temp\scoped_dir23344_334734579'</span><span class="token punctuation">)</span>

<span class="token comment"># 创建 WebDriver 对象，指明使用chrome浏览器驱动，添加放检测option</span>
wd <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>service<span class="token operator">=</span>Service<span class="token punctuation">(</span><span class="token string">r'D:/Python/Driver/chromedriver.exe'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>options<span class="token operator">=</span>option<span class="token punctuation">)</span>
<span class="token comment"># wd = webdriver.Edge(service=Service(r'D:/Python/Driver/msedgedriver.exe'))</span>

wd<span class="token punctuation">.</span>implicitly_wait<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
url <span class="token operator">=</span> <span class="token string">'https://login.taobao.com/member/login.jhtml?spm=a21bo.jianhua.754894437.1.5af92a896rF5TF&amp;f=top&amp;redirectURL=https%3A%2F%2Fwww.taobao.com%2F'</span>

<span class="token comment"># 调用WebDriver 对象的get方法 可以让浏览器打开指定网址</span>
wd<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">)</span>
wd<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;fm-login-id&quot;]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;账号:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
wd<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;fm-login-password&quot;]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;密码:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
wd<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;login-form&quot;]//button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>2.输入查询商品执行查询</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 定位到当前页面</span>
wd<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>window<span class="token punctuation">(</span>wd<span class="token punctuation">.</span>current_window_handle<span class="token punctuation">)</span>
<span class="token comment"># dash = wd.find_element(By.XPATH,'//*[@id=&quot;J_SiteNavHome&quot;]/div/a/span')</span>
<span class="token comment"># dash.click()</span>
wd<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;q&quot;]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;查询内容:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
wd<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;J_TSearchForm&quot;]/div[1]/button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>
time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment"># 分页查询</span>
pages <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;页数:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

titles <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
prices <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
peoples <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
provinces <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
citys <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
gifts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
sellers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> p <span class="token keyword">in</span> trange<span class="token punctuation">(</span>pages<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 定位到当前页面</span>
    wd<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>window<span class="token punctuation">(</span>wd<span class="token punctuation">.</span>current_window_handle<span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token comment"># 字段</span>
    title <span class="token operator">=</span> wd<span class="token punctuation">.</span>find_elements<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;root&quot;]//div[@class=&quot;Title--title--jCOPvpf&quot;]/span'</span><span class="token punctuation">)</span>
    price <span class="token operator">=</span> wd<span class="token punctuation">.</span>find_elements<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;root&quot;]//div[@class=&quot;Price--priceWrapper--Q0Dn7pN &quot;]/span[2]'</span><span class="token punctuation">)</span>
    people <span class="token operator">=</span> wd<span class="token punctuation">.</span>find_elements<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;root&quot;]//div[@class=&quot;Price--priceWrapper--Q0Dn7pN &quot;]/span[4]'</span><span class="token punctuation">)</span>
    address <span class="token operator">=</span> wd<span class="token punctuation">.</span>find_elements<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;root&quot;]//div[@class=&quot;Price--priceWrapper--Q0Dn7pN &quot;]'</span><span class="token punctuation">)</span>
    seller <span class="token operator">=</span> wd<span class="token punctuation">.</span>find_elements<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;root&quot;]//a[@class=&quot;ShopInfo--shopName--rg6mGmy&quot;]'</span><span class="token punctuation">)</span>
    
    province <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    city <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> add <span class="token keyword">in</span> address<span class="token punctuation">:</span>
        province<span class="token punctuation">.</span>append<span class="token punctuation">(</span>add<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'./div[1]/span'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">)</span>
        cs <span class="token operator">=</span> add<span class="token punctuation">.</span>find_elements<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'./div[2]/span'</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> cs<span class="token operator">!=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            city<span class="token punctuation">.</span>append<span class="token punctuation">(</span>add<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'./div[2]/span'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            city<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>

    <span class="token comment"># 包邮等小标签</span>
    gift <span class="token operator">=</span> wd<span class="token punctuation">.</span>find_elements<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;root&quot;]//div[@class=&quot;SalesPoint--subIconWrapper--s6vanNY &quot;]'</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 转成文本列表</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>gift<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        g <span class="token operator">=</span> gift<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        bq <span class="token operator">=</span> g<span class="token punctuation">.</span>find_elements<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'./div/span'</span><span class="token punctuation">)</span>
        bq <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">.</span>text <span class="token keyword">for</span> a <span class="token keyword">in</span> bq<span class="token punctuation">]</span>
        gift<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> bq 
    
    
    title <span class="token operator">=</span><span class="token punctuation">[</span>i<span class="token punctuation">.</span>text <span class="token keyword">for</span> i <span class="token keyword">in</span> title<span class="token punctuation">]</span>
    price <span class="token operator">=</span><span class="token punctuation">[</span>i<span class="token punctuation">.</span>text <span class="token keyword">for</span> i <span class="token keyword">in</span> price<span class="token punctuation">]</span>
    people <span class="token operator">=</span><span class="token punctuation">[</span>i<span class="token punctuation">.</span>text <span class="token keyword">for</span> i <span class="token keyword">in</span> people<span class="token punctuation">]</span>
    seller <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">.</span>text <span class="token keyword">for</span> i <span class="token keyword">in</span> seller<span class="token punctuation">]</span>

    <span class="token comment"># 添加到列表</span>
    titles<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>title<span class="token punctuation">)</span>
    prices<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>price<span class="token punctuation">)</span>
    peoples<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>people<span class="token punctuation">)</span>
    provinces<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>province<span class="token punctuation">)</span>
    citys<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>city<span class="token punctuation">)</span>
    gifts<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>gift<span class="token punctuation">)</span>
    sellers<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>seller<span class="token punctuation">)</span>

    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    next_button <span class="token operator">=</span> wd<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'//*[@id=&quot;root&quot;]//button[@class=&quot;next-btn next-medium next-btn-normal next-pagination-item next-next&quot;]'</span><span class="token punctuation">)</span>
    next_button<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 保存数据</span>
d <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'商家'</span><span class="token punctuation">:</span>sellers<span class="token punctuation">,</span>
    <span class="token string">'标题'</span><span class="token punctuation">:</span>titles<span class="token punctuation">,</span>
    <span class="token string">'省份'</span><span class="token punctuation">:</span>provinces<span class="token punctuation">,</span>
    <span class="token string">'城市'</span><span class="token punctuation">:</span>citys<span class="token punctuation">,</span>
    <span class="token string">'价格'</span><span class="token punctuation">:</span>prices<span class="token punctuation">,</span>
    <span class="token string">'付款人数'</span><span class="token punctuation">:</span>peoples<span class="token punctuation">,</span>
    <span class="token string">'赠品'</span><span class="token punctuation">:</span>gifts<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd 
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>d<span class="token punctuation">)</span> 
df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">'data.xls'</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
wd<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 关闭浏览器</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br></div></div></blockquote></div> <footer class="page-edit" style="margin:0;"><div class="edit-link"><a href="https://github.com/SeirinStar11/CodeWeb/edit/master/代码实战/爬虫：3.淘宝商品搜索.md" target="_blank" rel="noopener noreferrer">完善页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----></div> <div class="toc-container-sidebar"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:86vh"><div style="font-weight:bold;">爬虫：3.淘宝商品搜索</div> <hr> <div class="toc-box"><!----></div></div></div></div></div>  <main class="footer"> <div class="copy-right"><span class="name"> 编程导航   |     </span> <a target="_blank" rel="noreferrer">
          
        </a></div></main></main> <aside class="page-sidebar"> <div class="page-side-toolbar"></div>  </aside></div><div class="global-ui"></div></div>
    <script src="./assets/js/app.5249bd7e.js" defer></script><script src="./assets/js/2.c0aaeb5f.js" defer></script><script src="./assets/js/35.daa5630d.js" defer></script>
  </body>
</html>
